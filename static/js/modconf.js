(function(b){var a={init:function(d,c){b(d).on("click",".modal-confirm",function(f){f.preventDefault();c=b.extend({},b.fn.modalconf.defaults,b(this).data("options"));b(this).modalconf(a.show(b(this),c))})},hide:function(e,d){var c=b(".modconf");c.css("top",-500);b("#modconf-overlay").fadeOut(d.fxSpeed,function(){b("#modconf-overlay").remove();c.remove()})},show:function(h,d){var k,m;if(d.contentText===""){k=b(h).data("content")}else{k=d.contentText}if(d.titleText===""){m=b(h).data("title")}else{m=d.titleText}var o=b('<div class="modconf">'),n=b('<div class="modconf-title">');n.css({color:"#666666","border-bottom":"1px solid rgb(229, 229, 229)",display:"block"});o.css({width:d.width,"line-height":"20px",height:"auto","max-height":d.height,border:"1px solid rgba(0, 0, 0, 0.2)",position:"fixed",top:"0%",left:"0%","border-radius":d.borderRadius,"box-shadow":"0px 5px 15px rgba(0, 0, 0, 0.5)",background:d.background,color:d.color,display:"none","z-index":"99999","-webkit-transition":"top "+d.fxSpeed/1000+"s ease-in-out","-moz-transition":"top "+d.fxSpeed/1000+"s ease-in-out","-o-transition":"top "+d.fxSpeed/1000+"s ease-in-out",transition:"top "+d.fxSpeed/1000+"s ease-in-out"});var l=b("<span>"+m+"</span>");var g=b('<button class="modconf-close"> '+d.closeText+" </button>");l.css({display:"inline-block",padding:"10px"});g.css({"float":"right","font-size":"21px","font-weight":"bold","line-height":"1",color:"rgb(0, 0, 0)","text-shadow":"0px 1px 0px rgb(255, 255, 255)",opacity:"0.2",padding:"5px","margin-right":"5px",cursor:"pointer",background:"none repeat scroll 0% 0% transparent",border:"0px none"});g.hover(function(){g.css({opacity:1})},function(){g.css({opacity:0.2})});n.append(l);n.append(g);o.append(n);var e=b('<div class="modconf-body">');e.css({padding:"10px",height:"auto",overflow:"auto"});console.log(b(h)[0].offsetTop);var j=b(window).height()*(parseInt(d.height))/100-200;e.append('<div style="max-height: '+j+'px;overflow-y:auto">'+k+"</div>");o.append(e);var f=b('<div class="modconf-footer"></div>');f.css({color:"#666666","margin-bottom":0,padding:"12px 13px 13px","text-align":"right","border-top":" 1px solid rgb(229, 229, 229)"});var p=b('<a href="#" >'+d.confirmText+"</a>").addClass(d.btnConfirmClass),c=b('<a href="#" >'+d.cancelText+"</a>").css({"margin-left":"5px"}).addClass(d.btnCancelClass);if(d.btnConfirmClass===""){p.css({display:"inline-block",padding:"6px 12px","margin-bottom":0,"text-decoration":"none","font-size":"14px","font-weight":"normal","line-height":1.428571429,"text-align":"center","white-space":"nowrap","vertical-align":"middle",cursor:"pointer",border:"1px solid transparent","border-radius":"4px","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",color:"#ffffff","background-color":"#428bca","border-color":"#357ebd"});p.hover(function(){p.css({color:"#ffffff","background-color":"#3276b1","border-color":"#285e8e"})},function(){p.css({color:"#ffffff","background-color":"#428bca","border-color":"#357ebd"})})}p.on("click",function(r){r.preventDefault();var q=d.confirmArgs;switch(d.confirmType){case"url":window.location=q;break;case"form":b(q).submit();break;case"callback":q=q.split(";");window[q[0]](q);break}b(this).modalconf(a.hide(b(this),d))});if(d.btnConfirmClass===""){c.css({display:"inline-block",padding:"6px 12px","margin-bottom":0,"text-decoration":"none","font-size":"14px","font-weight":"normal","line-height":1.428571429,"text-align":"center","white-space":"nowrap","vertical-align":"middle",cursor:"pointer",border:"1px solid transparent","border-radius":"4px","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","-o-user-select":"none","user-select":"none",color:"#333333","background-color":"#ffffff","border-color":"#cccccc"});c.hover(function(){c.css({color:"#333333","background-color":"#ebebeb","border-color":"#adadad"})},function(){c.css({color:"#333333","background-color":"#ffffff","border-color":"#cccccc"})})}c.on("click",function(q){q.preventDefault();b(this).modalconf(a.hide(b(this),d))});f.append(p).append(c);o.append(f);var i=b('<div id="modconf-overlay" style=" z-index: 99998">').css({opacity:d.overlayOpacity,display:"none",position:"fixed",background:"#000",height:"100%",width:"100%",top:"0",left:"0"});i.on("click",function(){if(d.hideOnClick){b(this).modalconf(a.hide(b(this),d))}});b("body").append(i);i.fadeIn(d.fxSpeed,function(){b("body").append(o);o.css("display","block");o.css("top",b(window).height()/2-parseInt(o.css("height"))/2);o.css("left",b(window).width()/2-parseInt(o.css("width"))/2);b(".modconf-close").on("click",function(q){q.preventDefault();b(this).modalconf(a.hide(b(this),d))})})}};b.fn.modalconf=function(c,f){if(typeof c==="string"){var d=b.extend({},b.fn.modalconf.defaults,f);return a[c](b(this),d)}var e=b.extend({},b.fn.modalconf.defaults,c);return this.each(function(){a.init(b(this),e)})};b.fn.modalconf.defaults={fxSpeed:300,hideOnClick:true,confirmType:"url",confirmArgs:"",titleText:"",contentText:"",closeText:"Ã—",confirmText:"Confirm",cancelText:"Cancel",overlayOpacity:0.8,width:"40%",height:"40%",borderRadius:"6px",background:"#FFFFFF",color:"#666",btnCloseClass:"",btnConfirmClass:"",btnCancelClass:""};b(window).load(function(){b(document).modalconf()})})(jQuery);